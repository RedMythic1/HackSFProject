!function(){"use strict";var n={56:function(n,e,t){n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:function(n){var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var i={},a=[],s=0;s<n.length;s++){var c=n[s],l=o.base?c[0]+o.base:c[0],A=i[l]||0,d="".concat(l," ").concat(A);i[l]=A+1;var u=t(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var m=r(p,o);o.byIndex=s,e.splice(s,0,{identifier:d,updater:m,references:1})}a.push(d)}return a}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var i=o(n=n||[],r=r||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=t(i[a]);e[s].references--}for(var c=o(n,r),l=0;l<i.length;l++){var A=t(i[l]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}i=c}}},113:function(n){n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},208:function(n,e,t){var o=t(354),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"body {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  margin: 0;\n  padding: 0;\n  background-color: #f5f7fa;\n  color: #333;\n  line-height: 1.5;\n}\n\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\nheader {\n  background-color: #fff;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  padding: 20px 0;\n  margin-bottom: 30px;\n}\n\nh1 {\n  text-align: center;\n  color: #2c3e50;\n  margin: 0;\n  padding: 0;\n  font-size: 2.2rem;\n}\n\n.interests-form {\n  display: flex;\n  justify-content: center;\n  margin: 30px auto;\n  max-width: 600px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  overflow: hidden;\n  background: white;\n}\n\n#interests-input {\n  flex-grow: 1;\n  padding: 15px;\n  border: none;\n  font-size: 16px;\n  outline: none;\n}\n\n#submit-interests {\n  padding: 15px 25px;\n  background-color: #3498db;\n  color: white;\n  border: none;\n  cursor: pointer;\n  font-weight: 600;\n  font-size: 16px;\n  transition: background-color 0.2s;\n}\n\n#submit-interests:hover {\n  background-color: #2980b9;\n}\n\n.articles-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  gap: 25px;\n  margin-top: 20px;\n}\n\n.article-count {\n  grid-column: 1 / -1;\n  padding: 10px 15px;\n  background-color: #e8f4fd;\n  border-radius: 6px;\n  font-size: 14px;\n  color: #2c3e50;\n  margin-bottom: 15px;\n}\n\n.article-card {\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.07);\n  overflow: hidden;\n  position: relative;\n  transition: transform 0.2s, box-shadow 0.2s;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n}\n\n.article-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n}\n\n.article-card.expanded .article-summary {\n  max-height: 1000px;\n  overflow: visible;\n}\n\n.score-badge {\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  font-weight: bold;\n  color: white;\n  font-size: 14px;\n}\n\n.high-score {\n  background-color: #4CAF50;\n}\n\n.medium-score {\n  background-color: #2196F3;\n}\n\n.low-score {\n  background-color: #FF9800;\n}\n\n.no-score {\n  background-color: #9E9E9E;\n}\n\n.article-title {\n  padding: 20px 20px 5px;\n  margin: 0;\n  font-size: 18px;\n  padding-right: 50px; /* Space for score badge */\n  color: #2c3e50;\n}\n\n.article-subject {\n  padding: 0 20px 10px;\n  font-size: 14px;\n  color: #7f8c8d;\n}\n\n.article-summary {\n  padding: 0 20px 15px;\n  font-size: 14px;\n  color: #555;\n  max-height: 100px;\n  overflow: hidden;\n  transition: max-height 0.3s;\n}\n\n.score-details {\n  display: none;\n  padding: 0 20px;\n  background-color: #f9f9f9;\n  border-top: 1px solid #eee;\n  border-bottom: 1px solid #eee;\n  margin: 10px 0;\n}\n\n.score-details.visible {\n  display: block;\n}\n\n.score-details ul {\n  list-style: none;\n  padding: 10px 0;\n  margin: 0;\n}\n\n.score-details li {\n  font-size: 13px;\n  padding: 3px 0;\n}\n\n.score-details-btn, .view-article-btn {\n  background: none;\n  border: none;\n  color: #3498db;\n  cursor: pointer;\n  padding: 8px 15px;\n  font-size: 13px;\n  margin: 5px;\n  transition: color 0.2s;\n}\n\n.score-details-btn:hover, .view-article-btn:hover {\n  color: #2980b9;\n}\n\n.view-article-btn {\n  margin-top: auto;\n  align-self: center;\n  margin-bottom: 15px;\n  background-color: #3498db;\n  color: white;\n  border-radius: 4px;\n  padding: 10px 20px;\n  font-weight: 500;\n}\n\n.view-article-btn:hover {\n  background-color: #2980b9;\n  color: white;\n}\n\n.article-detail {\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);\n  padding: 30px;\n  margin: 20px 0;\n}\n\n.article-detail h2 {\n  margin-top: 0;\n  color: #2c3e50;\n}\n\n.article-detail .article-link {\n  display: inline-block;\n  margin: 15px 0;\n  text-decoration: none;\n  color: #3498db;\n}\n\n.article-detail .article-content {\n  margin-top: 20px;\n  line-height: 1.7;\n}\n\n.no-results {\n  grid-column: 1 / -1;\n  text-align: center;\n  padding: 50px;\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.07);\n  color: #7f8c8d;\n}\n\n@media (max-width: 768px) {\n  .interests-form {\n    flex-direction: column;\n    max-width: 95%;\n  }\n  \n  #interests-input, #submit-interests {\n    width: 100%;\n  }\n  \n  .articles-container {\n    grid-template-columns: 1fr;\n  }\n}\n\nh2.section-title {\n  text-align: center;\n  margin: 30px 0;\n  color: #2c3e50;\n  font-size: 1.8rem;\n}\n\n/* Loading indicator */\n.loading {\n  text-align: center;\n  padding: 30px;\n  color: #7f8c8d;\n}\n\n/* Navigation buttons - removed from here since we defined them in backtesting.css */ ","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"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",sourcesContent:["body {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  margin: 0;\n  padding: 0;\n  background-color: #f5f7fa;\n  color: #333;\n  line-height: 1.5;\n}\n\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\nheader {\n  background-color: #fff;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  padding: 20px 0;\n  margin-bottom: 30px;\n}\n\nh1 {\n  text-align: center;\n  color: #2c3e50;\n  margin: 0;\n  padding: 0;\n  font-size: 2.2rem;\n}\n\n.interests-form {\n  display: flex;\n  justify-content: center;\n  margin: 30px auto;\n  max-width: 600px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  overflow: hidden;\n  background: white;\n}\n\n#interests-input {\n  flex-grow: 1;\n  padding: 15px;\n  border: none;\n  font-size: 16px;\n  outline: none;\n}\n\n#submit-interests {\n  padding: 15px 25px;\n  background-color: #3498db;\n  color: white;\n  border: none;\n  cursor: pointer;\n  font-weight: 600;\n  font-size: 16px;\n  transition: background-color 0.2s;\n}\n\n#submit-interests:hover {\n  background-color: #2980b9;\n}\n\n.articles-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  gap: 25px;\n  margin-top: 20px;\n}\n\n.article-count {\n  grid-column: 1 / -1;\n  padding: 10px 15px;\n  background-color: #e8f4fd;\n  border-radius: 6px;\n  font-size: 14px;\n  color: #2c3e50;\n  margin-bottom: 15px;\n}\n\n.article-card {\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.07);\n  overflow: hidden;\n  position: relative;\n  transition: transform 0.2s, box-shadow 0.2s;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n}\n\n.article-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n}\n\n.article-card.expanded .article-summary {\n  max-height: 1000px;\n  overflow: visible;\n}\n\n.score-badge {\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  font-weight: bold;\n  color: white;\n  font-size: 14px;\n}\n\n.high-score {\n  background-color: #4CAF50;\n}\n\n.medium-score {\n  background-color: #2196F3;\n}\n\n.low-score {\n  background-color: #FF9800;\n}\n\n.no-score {\n  background-color: #9E9E9E;\n}\n\n.article-title {\n  padding: 20px 20px 5px;\n  margin: 0;\n  font-size: 18px;\n  padding-right: 50px; /* Space for score badge */\n  color: #2c3e50;\n}\n\n.article-subject {\n  padding: 0 20px 10px;\n  font-size: 14px;\n  color: #7f8c8d;\n}\n\n.article-summary {\n  padding: 0 20px 15px;\n  font-size: 14px;\n  color: #555;\n  max-height: 100px;\n  overflow: hidden;\n  transition: max-height 0.3s;\n}\n\n.score-details {\n  display: none;\n  padding: 0 20px;\n  background-color: #f9f9f9;\n  border-top: 1px solid #eee;\n  border-bottom: 1px solid #eee;\n  margin: 10px 0;\n}\n\n.score-details.visible {\n  display: block;\n}\n\n.score-details ul {\n  list-style: none;\n  padding: 10px 0;\n  margin: 0;\n}\n\n.score-details li {\n  font-size: 13px;\n  padding: 3px 0;\n}\n\n.score-details-btn, .view-article-btn {\n  background: none;\n  border: none;\n  color: #3498db;\n  cursor: pointer;\n  padding: 8px 15px;\n  font-size: 13px;\n  margin: 5px;\n  transition: color 0.2s;\n}\n\n.score-details-btn:hover, .view-article-btn:hover {\n  color: #2980b9;\n}\n\n.view-article-btn {\n  margin-top: auto;\n  align-self: center;\n  margin-bottom: 15px;\n  background-color: #3498db;\n  color: white;\n  border-radius: 4px;\n  padding: 10px 20px;\n  font-weight: 500;\n}\n\n.view-article-btn:hover {\n  background-color: #2980b9;\n  color: white;\n}\n\n.article-detail {\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);\n  padding: 30px;\n  margin: 20px 0;\n}\n\n.article-detail h2 {\n  margin-top: 0;\n  color: #2c3e50;\n}\n\n.article-detail .article-link {\n  display: inline-block;\n  margin: 15px 0;\n  text-decoration: none;\n  color: #3498db;\n}\n\n.article-detail .article-content {\n  margin-top: 20px;\n  line-height: 1.7;\n}\n\n.no-results {\n  grid-column: 1 / -1;\n  text-align: center;\n  padding: 50px;\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.07);\n  color: #7f8c8d;\n}\n\n@media (max-width: 768px) {\n  .interests-form {\n    flex-direction: column;\n    max-width: 95%;\n  }\n  \n  #interests-input, #submit-interests {\n    width: 100%;\n  }\n  \n  .articles-container {\n    grid-template-columns: 1fr;\n  }\n}\n\nh2.section-title {\n  text-align: center;\n  margin: 30px 0;\n  color: #2c3e50;\n  font-size: 1.8rem;\n}\n\n/* Loading indicator */\n.loading {\n  text-align: center;\n  padding: 30px;\n  color: #7f8c8d;\n}\n\n/* Navigation buttons - removed from here since we defined them in backtesting.css */ "],sourceRoot:""}]),e.A=a},314:function(n){n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<n.length;l++){var A=[].concat(n[l]);o&&a[A[0]]||(void 0!==i&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=i),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),r&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=r):A[4]="".concat(r)),e.push(A))}},e}},354:function(n){n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(r," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},540:function(n){n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},659:function(n){var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},825:function(n){n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return n[o](i,i.exports,t),i.exports}t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,{a:e}),e},t.d=function(n,e){for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.nc=void 0;var o=t(72),r=t.n(o),i=t(825),a=t.n(i),s=t(659),c=t.n(s),l=t(56),A=t.n(l),d=t(540),u=t.n(d),p=t(113),m=t.n(p),g=t(208),h={};h.styleTagTransform=m(),h.setAttributes=A(),h.insert=c().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=u(),r()(g.A,h),g.A&&g.A.locals&&g.A.locals;var f=function(n,e,t,o){return new(t||(t=Promise))((function(r,i){function a(n){try{c(o.next(n))}catch(n){i(n)}}function s(n){try{c(o.throw(n))}catch(n){i(n)}}function c(n){var e;n.done?r(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}c((o=o.apply(n,e||[])).next())}))};class C{static preprocess(n){return n.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(Boolean)}static levenshteinSimilarity(n,e){const t=n.length,o=e.length;if(0===t||0===o)return 0;const r=Array.from({length:t+1},(()=>Array(o+1).fill(0)));for(let n=0;n<=t;n++)r[n][0]=n;for(let n=0;n<=o;n++)r[0][n]=n;for(let i=1;i<=t;i++)for(let t=1;t<=o;t++){const o=n[i-1]===e[t-1]?0:1;r[i][t]=Math.min(r[i-1][t]+1,r[i][t-1]+1,r[i-1][t-1]+o)}return 100*(1-r[t][o]/Math.max(t,o))}static jaccardSimilarity(n,e){const t=new Set(n),o=new Set(e),r=Array.from(t).filter((n=>o.has(n))).length,i=Array.from(new Set([...n,...e])).length;return 0===i?0:r/i*100}static tokenOverlap(n,e){let t=0;for(const o of n)e.includes(o)&&t++;return 0===n.length?0:t/n.length*100}static compute(n,e){const t=this.preprocess(n),o=this.preprocess(e),r=t.join(" "),i=o.join(" "),a=.4*this.levenshteinSimilarity(r,i)+.3*this.jaccardSimilarity(t,o)+.3*this.tokenOverlap(t,o);return Math.round(a)}}class E{constructor(){this.baseUrl="",this.baseUrl="localhost"===window.location.hostname?"http://localhost:3000":"",console.log(`ApiService initialized with baseUrl: ${this.baseUrl}`),console.log(`Current hostname: ${window.location.hostname}`)}getArticles(n){return f(this,void 0,void 0,(function*(){try{const e=n?`?interests=${encodeURIComponent(n)}`:"",t=`${this.baseUrl}/api/articles${e}`;console.log(`Fetching articles from: ${t}`);const o=yield fetch(t);if(!o.ok)throw console.error(`Error response from server: ${o.status}`),new Error(`Failed to fetch articles: ${o.statusText}`);const r=yield o.json();return console.log(`Articles fetched successfully. Count: ${r.length}`),console.log("Sample article data:",r.length>0?r[0]:"No articles"),r.map((n=>({id:n.id||"",title:n.title||"Untitled Article",subject:n.subject||"",link:n.link||"",score:n.score||0,summary:n.summary||""})))}catch(n){return console.error("Error fetching articles:",n),[]}}))}getArticleDetails(n){return f(this,void 0,void 0,(function*(){try{const e=`${this.baseUrl}/api/article/${n}`;console.log(`Fetching article details from: ${e}`);const t=yield fetch(e);if(!t.ok)throw console.error(`Error response from server: ${t.status}`),new Error(`Failed to fetch article details: ${t.statusText}`);const o=yield t.json();return console.log("Article details response:",o),"success"===o.status&&o.article?(console.log("Article details fetched successfully:",o.article.title),{title:o.article.title,link:o.article.link,summary:o.article.summary,content:o.article.content}):(console.error("Invalid article data format:",o),null)}catch(n){return console.error("Error fetching article details:",n),null}}))}analyzeInterests(n){return f(this,void 0,void 0,(function*(){try{const e=yield fetch(`${this.baseUrl}/api/analyze-interests`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({interests:n})});if(!e.ok)throw new Error("Failed to analyze interests");return yield e.json()}catch(n){return console.error("Error analyzing interests:",n),null}}))}}class x{constructor(){this.apiService=new E,this.articlesContainer=document.getElementById("articles-container"),this.interestsInput=document.getElementById("interests-input"),this.submitButton=document.getElementById("submit-interests"),this.addNavigation(),this.initEventListeners(),this.loadArticles()}addNavigation(){const n=document.querySelector("header");if(n){let e=n.querySelector("nav");if(!e){e=document.createElement("nav"),e.style.display="flex",e.style.gap="1rem",e.style.justifyContent="center",e.style.marginBottom="1rem";const t=document.createElement("a");t.href="index.html",t.className="nav-button active",t.id="home-tab",t.textContent="Home";const o=document.createElement("a");o.href="backtesting.html",o.className="nav-button",o.id="backtest-tab",o.textContent="Backtesting",e.appendChild(t),e.appendChild(o),n.appendChild(e)}}}initEventListeners(){this.submitButton&&this.submitButton.addEventListener("click",(()=>this.handleInterestsSubmit()))}loadArticles(n){return f(this,void 0,void 0,(function*(){if(this.articlesContainer)try{console.log(`Loading articles with interests: ${n||"none"}`),this.articlesContainer.innerHTML='<div class="loading">Loading articles...</div>';const e=yield this.apiService.getArticles(n);if(0===e.length)return void(this.articlesContainer.innerHTML='<div class="message">No articles found. Please try with different interests.</div>');console.log(`Fetched ${e.length} articles, now scoring based on interests: ${n||"none"}`);const t=this.deduplicateArticles(e);console.log(`Reduced to ${t.length} unique articles after deduplication`);const o=t.map((e=>((n,e,t)=>f(void 0,void 0,void 0,(function*(){try{console.log(`\n========== SCORING ARTICLE: "${n.title}" (ID: ${n.id||"unknown"}) ==========`),console.log(`Interest Terms: "${e}"`);let o=Math.floor(25*Math.random())+70;if(console.log(`Base score (if no interests): ${o}`),!e.trim())return console.log(`No interests provided - Using base score: ${o}`),o;const r=e.toLowerCase().split(/[\s,]+/).filter((n=>n.length>2)).map((n=>n.trim()));if(console.log(`Parsed interest terms (${r.length}):`,r),0===r.length)return console.log(`No valid interest terms after filtering - Using base score: ${o}`),o;let i="",a="none";if(n.id)try{const e=`.cache/summary_${n.id}.json`;console.log(`ATTEMPTING TO LOAD SUMMARY FILE: ${e}`);const t=yield fetch(e);if(console.log("Summary file response status:",t.status,t.statusText),t.ok){const n=yield t.json();console.log("Summary file raw data:",n),n.summary&&"string"==typeof n.summary?(i=n.summary,a="cache file",console.log(`SUCCESS: Loaded summary from file (${i.length} chars)`),console.log(`Summary preview: "${i.substring(0,100)}${i.length>100?"...":""}"`)):console.warn("File loaded but no valid summary found in data")}else console.warn(`Failed to load summary file: ${t.status} ${t.statusText}`)}catch(e){console.warn(`Error loading summary for article id ${n.id}:`,e)}else console.log("No article ID available - Cannot load summary file");!i&&n.summary?(i=n.summary,a="article object",console.log(`FALLBACK: Using summary from article object (${i.length} chars)`),console.log(`Summary preview: "${i.substring(0,100)}${i.length>100?"...":""}"`)):i||console.log("WARNING: No summary available from any source!"),console.log(`Final summary source: ${a}`),console.log(`Final summary length: ${i.length} characters`);const s=n.title,c=n.subject||"",l=`${s} ${c} ${i}`;console.log("\n----- SCORING COMPONENT 1: TEXT SIMILARITY (0-60 points) -----");let A=0;if(l.length>0){console.log("Computing text similarity using advanced methods...");const n=C.compute(e,l);console.log(`Raw similarity score: ${n} / 100`),A=n/100*60,console.log(`Weighted similarity score: ${A.toFixed(2)} / 60 points`);const t=C.preprocess(e),o=C.preprocess(l),r=C.levenshteinSimilarity(t.join(" "),o.slice(0,200).join(" ")),i=C.jaccardSimilarity(t,o),a=C.tokenOverlap(t,o);console.log(`Similarity metrics breakdown:\n  - Levenshtein similarity: ${r.toFixed(2)}%\n  - Jaccard similarity:     ${i.toFixed(2)}%\n  - Token overlap:          ${a.toFixed(2)}%`)}else console.log("Empty article content - Similarity score: 0 / 60 points");console.log("\n----- SCORING COMPONENT 2: CONTEXTUAL RELEVANCE (0-30 points) -----");let d=0;const u=e.split(/\s+/).some((e=>n.title.toLowerCase().includes(e.toLowerCase())))?2:1;u>1&&console.log(`Interest terms found in title: applying ${u}x title importance multiplier`);const p=C.compute(e,s)*u;console.log(`Title similarity: ${(p/u).toFixed(2)}% (raw) × ${u} = ${p.toFixed(2)}%`);const m=c?C.compute(e,c):0;console.log(`Subject similarity: ${m.toFixed(2)}%`);const g=.7*p+.3*m;console.log(`Weighted context similarity: ${g.toFixed(2)}%`),d=g/100*30,console.log(`Contextual relevance score: ${d.toFixed(2)} / 30 points`),console.log("\n----- SCORING COMPONENT 3: FRESHNESS & UNIQUENESS (0-10 points) -----");let h=0;const f=n.id?parseInt(n.id.replace(/\D/g,"").slice(-2)||"0")%8:Math.floor(8*Math.random());console.log(`Base freshness: ${f} / 8`);const E=t.map((n=>n.title.toLowerCase())),x=s.toLowerCase().split(/\s+/).filter((n=>n.length>4));let B=0;x.forEach((n=>{const e=E.filter((e=>e.includes(n))).length;e<=Math.max(1,Math.floor(.2*t.length))&&(B++,console.log(`  Uncommon word found: "${n}" (in ${e} articles)`))}));const b=Math.min(2,.5*B);console.log(`Uniqueness bonus: ${b.toFixed(2)} points (${B} uncommon words)`),h=f+b,console.log(`Freshness & uniqueness score: ${h.toFixed(2)} / 10 points`),console.log("\n----- FINAL SCORE CALCULATION -----");const v=A+d+h;console.log(`Final score breakdown:\n  - Text Similarity:         ${A.toFixed(2)} / 60\n  - Contextual Relevance:    ${d.toFixed(2)} / 30\n  - Freshness & Uniqueness:  ${h.toFixed(2)} / 10\n  ----------------------\n  TOTAL SCORE:               ${v.toFixed(2)} / 100\n`);const y={similarity:A.toFixed(2),contextual:d.toFixed(2),freshness:h.toFixed(2),final:v.toFixed(2)};return console.log("Score components stored:",y),n.scoreComponents=y,console.log("\n----- SCORING COMPLETE -----"),Math.min(100,Math.max(0,v))}catch(n){return console.error("ERROR IN RANKING SYSTEM:",n),Math.floor(25*Math.random())+70}})))(e,n||"",t))),r=yield Promise.all(o),i=t.map(((n,e)=>Object.assign(Object.assign({},n),{score:Math.round(r[e])})));console.log(`Scored ${i.length} articles using custom ranking system`),i.sort(((n,e)=>e.score-n.score)),console.log("Articles sorted by score"),this.renderArticles(i)}catch(n){console.error("Error loading articles:",n),this.articlesContainer.innerHTML='<div class="error">Error loading articles. Please try again later.</div>'}}))}deduplicateArticles(n){const e=new Set;return n.filter((n=>{const t=n.title.toLowerCase().trim();return!e.has(t)&&(e.add(t),!0)}))}renderArticles(n){if(!this.articlesContainer)return;if(this.articlesContainer.innerHTML="",!n||0===n.length)return void(this.articlesContainer.innerHTML='<div class="no-results">No articles found. Try adjusting your interests.</div>');const e=document.createElement("div");e.className="article-count",e.textContent=`Displaying ${n.length} unique articles`,this.articlesContainer.appendChild(e),n.forEach((n=>{const e=document.createElement("div");e.className="article-card",e.dataset.id=n.id||"";const t=this.getScoreClass(n.score),o=document.createElement("div");o.className=`score-badge ${t}`,o.textContent=n.score.toString(),e.appendChild(o);const r=document.createElement("h3");if(r.className="article-title",r.textContent=n.title,e.appendChild(r),n.subject){const t=document.createElement("div");t.className="article-subject",t.textContent=n.subject,e.appendChild(t)}if(n.summary){const t=document.createElement("div");t.className="article-summary",t.innerHTML=this.formatSummary(this.truncateText(n.summary,200)),e.appendChild(t)}if(n.scoreComponents){const t=document.createElement("div");t.className="score-details";const o=document.createElement("ul"),r=document.createElement("button");r.className="score-details-btn",r.textContent="Show score details",r.addEventListener("click",(()=>{t&&t.classList&&(t.classList.toggle("visible"),r.textContent=t.classList.contains("visible")?"Hide score details":"Show score details")})),Object.entries(n.scoreComponents).forEach((([n,e])=>{const t=document.createElement("li"),r=n.charAt(0).toUpperCase()+n.slice(1);t.innerHTML=`<strong>${r}:</strong> ${e}`,o.appendChild(t)})),t.appendChild(o),e.appendChild(r),e.appendChild(t)}const i=document.createElement("button");i.className="view-article-btn",i.textContent="View Article",i.addEventListener("click",(()=>{n.id&&this.viewArticleDetails(n.id)})),e.appendChild(i),this.articlesContainer.appendChild(e)})),document.querySelectorAll(".article-card").forEach((n=>{n.addEventListener("click",(e=>{n&&n.classList&&e.target&&("BUTTON"===e.target.tagName||n.classList.toggle("expanded"))}))}))}viewArticleDetails(n){return f(this,void 0,void 0,(function*(){if(this.articlesContainer){this.articlesContainer.innerHTML='<div class="loading">Loading article details...</div>';try{const e=yield this.apiService.getArticleDetails(n);if(!e){this.articlesContainer.innerHTML='<div class="error">Article not found</div>';const n=document.createElement("button");return n.textContent="Back to Articles",n.className="back-button",n.addEventListener("click",(()=>{var n;const e=(null===(n=this.interestsInput)||void 0===n?void 0:n.value)||"";this.loadArticles(e)})),void this.articlesContainer.appendChild(n)}this.renderArticleDetail(e)}catch(n){console.error("Error loading article details:",n),this.articlesContainer.innerHTML='<div class="error">Error loading article details. Please try again later.</div>';const e=document.createElement("button");e.textContent="Back to Articles",e.className="back-button",e.addEventListener("click",(()=>{var n;const e=(null===(n=this.interestsInput)||void 0===n?void 0:n.value)||"";this.loadArticles(e)})),this.articlesContainer.appendChild(e)}}}))}renderArticleDetail(n){if(!this.articlesContainer)return;this.articlesContainer.innerHTML="";const e=document.createElement("div");e.className="article-detail";let t=`\n            <h2>${this.escapeHtml(n.title)}</h2>\n        `;n.content?n.content.includes("<")&&n.content.includes(">")?t+=`\n                    <div class="article-content">\n                        ${this.sanitizeHtml(n.content)}\n                    </div>\n                `:t+=`\n                    <div class="article-content">\n                        ${this.formatSummary(n.content)}\n                    </div>\n                `:t+=`\n                <div class="article-summary">\n                    ${this.formatSummary(n.summary)}\n                </div>\n            `,t+=`\n            <div class="article-actions">\n                <a href="${n.link}" target="_blank" class="article-link">View Original</a>\n                <button id="back-to-articles" class="back-button">Back to Articles</button>\n            </div>\n        `,e.innerHTML=t;const o=e.querySelector("#back-to-articles");o&&o.addEventListener("click",(()=>{var n;const e=(null===(n=this.interestsInput)||void 0===n?void 0:n.value)||"";this.loadArticles(e)})),this.articlesContainer.appendChild(e)}handleInterestsSubmit(){if(!this.interestsInput)return;const n=this.interestsInput.value.trim();console.log(`Interests submitted: "${n}"`),this.submitButton&&(this.submitButton.setAttribute("disabled","true"),this.submitButton.textContent="Loading..."),this.articlesContainer&&(this.articlesContainer.innerHTML='<div class="loading">Scoring articles based on your interests...</div>'),this.loadArticles(n).finally((()=>{this.submitButton&&(this.submitButton.removeAttribute("disabled"),this.submitButton.textContent="Update Interests")}))}formatSummary(n){return n.split("\n\n").filter((n=>n.trim().length>0)).map((n=>`<p>${this.escapeHtml(n)}</p>`)).join("")}escapeHtml(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}truncateText(n,e){return n?n.length<=e?this.escapeHtml(n):this.escapeHtml(n.substring(0,e))+"...":""}sanitizeHtml(n){const e=document.createElement("div");return e.innerHTML=n,e.querySelectorAll("script").forEach((n=>n.remove())),e.querySelectorAll("iframe").forEach((n=>n.remove())),e.querySelectorAll("*").forEach((n=>{Array.from(n.attributes).forEach((e=>{(e.name.startsWith("on")||"href"===e.name&&e.value.startsWith("javascript:"))&&n.removeAttribute(e.name)}))})),e.innerHTML}getScoreClass(n){return n>90?"high-score":n>75?"medium-score":n>60?"low-score":"no-score"}}document.addEventListener("DOMContentLoaded",(()=>{new x}))}();
//# sourceMappingURL=main.bundle.js.map